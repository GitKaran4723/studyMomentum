# Stage 3-5: Prediction System Feature Flags

# Master feature toggle
# Options: false | preview | preview_ui | on | true
#   false      = Prediction APIs disabled (404)
#   preview    = APIs enabled, UI hidden (for API testing)
#   preview_ui = APIs + UI enabled, Apply Plan disabled (read-only preview)
#   on         = Stage 4 write operations enabled (apply-plan, quiz updates)
#   true       = Full features enabled (all stages + background jobs + analytics)
PREDICTION_ENABLED=on

# Stage 5: Performance & UX Features
ENABLE_PLAN_CACHE=true  # 5-minute cache for /api/predict/plan
ENABLE_SUBJECT_WEIGHTS=true  # User-editable subject weight sliders
ENABLE_TASK_WEIGHT_EDIT=true  # Allow concept_weight editing
ENABLE_WHY_THIS_TASK=true  # SPH/RPF breakdown tooltips
ENABLE_WHAT_BOOSTS_ODDS=true  # Marginal Δμ suggestions
ENABLE_ANALYTICS_DASHBOARD=true  # Trends & subject contribution charts

# Sub-feature flags (only active when PREDICTION_ENABLED=true)
ENABLE_MASTERY_TRACKING=false
ENABLE_SPACED_REPETITION=false
ENABLE_BAYESIAN_UPDATES=false
ENABLE_DAILY_PLANNING=false
ENABLE_EXAM_PROBABILITY=false

# Prediction Algorithm Parameters
DEFAULT_FORGETTING_LAMBDA=0.04
DEFAULT_LEARNING_ETA=0.8
DEFAULT_REVISION_RHO=0.35
DEFAULT_DAILY_HOURS=6.0
DEFAULT_NEW_STUDY_SPLIT=0.6
DEFAULT_DECAY_RATE=0.7
DEFAULT_MCQ_N=20  # MCQ questions for Bayesian update (k/n)

# Spaced Repetition Intervals (days)
SPACED_STAGES=1,3,7,14,30

# Virtual Task Parameters
VIRTUAL_TASK_EST_HOURS=10.0
VIRTUAL_TASK_BASELINE_MASTERY=0.2

# Background Job Settings
ENABLE_NIGHTLY_DECAY=false
ENABLE_SPACED_REMINDERS=false
DECAY_RUN_TIME=02:00

# Development/Testing
DEBUG_PREDICTION=false
LOG_PREDICTION_CALCULATIONS=false
